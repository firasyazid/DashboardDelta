<p-toast></p-toast>

<div class="admin-page">
  <p-card header="Commandes" subheader="List of all Commandes">
    <div class="p-grid">
     
    </div>
    <div class="p-grid">
      <div class="p-col-12">
        <p-table
        [paginator]="true"
        [rows]="5"
[value]="Commandes" styleClass="p-datatable-gridlines">
          <ng-template pTemplate="header">
            <tr>
            <th pSortableColumn="name" style="color: #0093e9;">Numéro Commande </th>
            <th pSortableColumn="name" style="color: #0093e9;">Montant Commande </th>
            <th style="color: #0093e9;" pSortableColumn="dateCmd"> Date Commande <p-sortIcon field="dateCmd"></p-sortIcon> </th>

              <th style="color: #0093e9;">Numéro devis </th>
              <th style="color: #0093e9;">Montant devis </th>
              <th style="color: #0093e9;">Date devis </th>
               <th style="color: #0093e9;">User</th>
                <th style="color: #0093e9;">Showroom</th>

              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-Commandes>
            <tr>
              <td><span style="font-weight: bold;">{{ Commandes.numCmd }}</span> </td>
                <td><span style="font-weight: bold;">{{ Commandes.montantCmd }}</span> </td>
              <td><span style="font-weight: bold;">{{ Commandes.dateCmd | date: 'dd/MM/yyyy' }}</span> </td>

                <td><span style="font-weight: bold;">{{ Commandes.devis?.numDevis }}</span> </td>
                <td><span style="font-weight: bold;">{{ Commandes.devis?.montant }}</span> </td>
                <td><span style="font-weight: bold;">{{ Commandes.devis?.dateDevis | date: 'dd/MM/yyyy'}}</span> </td>
               <td><span style="font-weight: bold;">{{ Commandes.user?.name}}</span></td>
                <td><span style="font-weight: bold;"> {{ Commandes.showroom?.title }}</span></td>
   
                  <td>
                       <p-button  
                (click)="deleteCmd(Commandes.id)"
                      styleClass="p-button-danger p-mr-2"
                  icon="pi pi-trash"
                ></p-button>
              </td>
              <td>
                <button  
                (click)="updateCmd(Commandes.id)"
                  pButton pRipple label="Update"
                icon="pi pi-pencil"
                ></button>

 
              </td>
            </tr>
          
          </ng-template>
          
        </p-table>
     
      </div>
    </div>
    <button  
          (click)="exportExcel(Commandes)"
          pButton pRipple label="Export to Excel"
          icon="pi pi-file-excel"
          ></button>

 <br> <br>
<button  
 (click)="exportPdf(Commandes)" 
 pButton pRipple label="Export to Pdf  "
icon="pi pi-file-pdf"
></button>
  </p-card>
  <p-confirmDialog header="Delete"></p-confirmDialog>
</div>
 